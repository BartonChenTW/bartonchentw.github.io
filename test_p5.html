<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>台灣與國際參與小測驗</title>
    <style>
        body { margin: 0; overflow: hidden; }
        canvas { display: block; }
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
    <script>
        let questions = [
            {
                question: "（暖身題）我們可以以臺灣人身份申請下列哪一國際組織？",
                options: ["UNDP", "WHO", "WTO", "WHAT"],
                answer: 2,
                explanation: "✅ 正解是 WTO：有台灣人在WTO工作，例如 Jessica。"
            },
            {
                question: "（暖身題）以下何者為臺灣目前在世界貿易組織(WTO)中的稱呼？",
                options: ["中華民國", "中華民國台灣", "中國台灣", "臺灣、澎湖、金門、馬祖個別關稅領域"],
                answer: 3,
                explanation: "✅ 正解是 D：因為WTO的會員是經濟體而不是主權國家。"
            },
            {
                question: "（暖身題）臺灣目前是哪些國際組織的成員？",
                options: [
                    "FFTC, Global Coalition to Defeat ISIS, IATTC",
                    "OECD, NATO, RATP",
                    "OSCE, IOM, Eurovision",
                    "BRICS, ILO, MLB"
                ],
                answer: 0,
                explanation: "✅ 正解是 A：我們是 FFTC、反制ISIS聯盟、IATTC 的成員。"
            },
            {
                question: "收到聯合國實習錄取，卻被告知臺灣人無法入職，這時我該？",
                options: [
                    "抗議不公，人家是Stateless",
                    "抗議不公，這樣根本違反人權",
                    "拍拍屁股，自認倒霉去申請其他機會"
                ],
                answer: 2,
                explanation: "✅ 正解是 C：這是現實，講者會分享經驗。"
            },
            {
                question: "聯合國要求填國籍，我應該填China以免Offer被收回？",
                options: ["委屈求全填China", "Offer會被收回"],
                answer: 1,
                explanation: "✅ 正解是 B：我們拿不出中國護照，會被取消。"
            }
        ];

        let score = 0;
        let currentQuestion = -1; // intro screen
        let stars = [];
        let showExplanation = false;

        function setup() {
            createCanvas(800, 600);
            textAlign(CENTER, CENTER);
            textSize(20);

            for (let i = 0; i < 50; i++) {
                stars.push({ x: random(width), y: random(height), size: random(2, 6) });
            }
        }

        function draw() {
            background(30);

            // Draw stars
            for (let s of stars) {
                fill(255, 255, 100);
                ellipse(s.x, s.y, s.size);
                s.y += random(0.5, 1.5);
                if (s.y > height) s.y = 0;
            }

            if (currentQuestion === -1) {
                showIntro();
            } else if (currentQuestion < questions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        function showIntro() {
            fill(255);
            textSize(24);
            text("台灣與國際參與小測驗", width / 2, height / 2 - 40);
            textSize(18);
            text("點擊畫面開始！", width / 2, height / 2 + 10);
            textSize(16);
            text("就是除了暖身題以外的題目都沒有遇到這些情況的「正確答案」，只是邀請大家猜猜看我們講者親身的經歷", width / 2, height / 2 + 80, 600);
        }

        function showQuestion() {
            let q = questions[currentQuestion];

            fill(255);
            textSize(20);
            text(q.question, width / 2, 100);

            for (let i = 0; i < q.options.length; i++) {
                let x = width / 2;
                let y = 200 + i * 60;

                if (mouseX > x - 100 && mouseX < x + 100 && mouseY > y - 20 && mouseY < y + 20) {
                    fill(255, 180, 100);
                } else {
                    fill(200);
                }
                rect(x - 100, y - 20, 200, 40, 10);
                fill(0);
                text(q.options[i], x, y);
            }

            if (showExplanation) {
                fill(255);
                textSize(16);
                text(q.explanation, width / 2, height - 60, 700);
            }
        }

        function showResult() {
            let resultText = "";

            if (score === questions.length) {
                resultText = "🌟 台灣參與國際專家！你太厲害了！";
            } else if (score >= questions.length / 2) {
                resultText = "😊 台灣參與國際知識不錯！";
            } else {
                resultText = "🤔 繼續努力～ 還有很多可以學的喔！";
            }

            fill(255);
            textSize(24);
            text(resultText, width / 2, height / 2);
        }

        function mousePressed() {
            if (currentQuestion === -1) {
                currentQuestion = 0;
                return;
            }

            if (showExplanation) {
                currentQuestion++;
                showExplanation = false;
                return;
            }

            if (currentQuestion < questions.length) {
                let q = questions[currentQuestion];
                for (let i = 0; i < q.options.length; i++) {
                    let x = width / 2;
                    let y = 200 + i * 60;

                    if (mouseX > x - 100 && mouseX < x + 100 && mouseY > y - 20 && mouseY < y + 20) {
                        if (i === q.answer) score++;
                        showExplanation = true;
                        break;
                    }
                }
            }
        }
    </script>
</body>
</html>
